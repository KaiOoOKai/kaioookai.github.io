<!DOCTYPE html>

<html>
  <head>
    <link rel="stylesheet" type="text/css" href="style.css" />
    <script src="https://d3js.org/d3.v6.min.js"></script>
    <script type = "text/javascript" src="../data.js"></script>
    <script type = "text/javascript" src="../../const.js"></script>
    <script type="text/javascript" src="script.js"></script>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.8.1/css/bootstrap-select.css"
    />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.8.1/js/bootstrap-select.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/noUiSlider/15.7.0/nouislider.css" integrity="sha512-MKxcSu/LDtbIYHBNAWUQwfB3iVoG9xeMCm32QV5hZ/9lFaQZJVaXfz9aFa0IZExWzCpm7OWvp9zq9gVip/nLMg==" crossorigin="anonymous" referrerpolicy="no-referrer" />

    <!-- Include the noUiSlider JavaScript file -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/noUiSlider/15.7.0/nouislider.min.js" integrity="sha512-UOJe4paV6hYWBnS0c9GnIRH8PLm2nFK22uhfAvsTIqd3uwnWsVri1OPn5fJYdLtGY3wB11LGHJ4yPU1WFJeBYQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

    
    <script>
      $("select").selectpicker();
    </script>
  </head>

  <body>
    <h3 style="text-align:center;"><span id="titleCity">Hirat's Food Prices Over</span><span id="range"> 17 Years</span></h3>

    <h4  style="width: 26%; float: left;padding-left: 3%;">
      Food type:<select
        id="foodPicker"
        onchange="val(this)"
        class="selectpicker"
        multiple
        data-live-search="true"
        data-max-options="5"
      >
      <optgroup label="Vegetables">
        <option>Cabbage - Retail</option>
        <option>Carrots - Retail</option>
        <option>Cucumbers - Retail</option>
        <option>Garlic - Retail</option>
        <option>Onions - Retail</option>
        <option>Peas - Retail</option>
        <option>Potatoes - Retail</option>
        <option>Tomatoes - Retail</option>
      </optgroup>
      <optgroup label="Protein">
            <option>Beans - Retail</option>
            <option>Eggs - Retail</option>
            <option>Fish (frozen) - Retail</option>
            <option>Meat (beef) - Retail</option>
            <option>Meat (chicken) - Retail</option>
            <option>Meat (lamb) - Retail</option>
            <option>Meat (pork) - Retail</option>
            <option>Walnuts - Retail</option>
      </optgroup>
      <optgroup label="Grains">
            <option>Bread (wheat) - Retail</option>
            <option selected>Bread - Retail</option>
            <option>Pasta - Retail</option>
            <option>Rice (high quality) - Retail</option>
            <option>Rice (low quality) - Retail</option>
            <option>Wheat - Retail</option>
            <option>Wheat flour (first grade) - Retail</option>            
      </optgroup>
      <optgroup label="Fruits">
            <option>Apples (red) - Retail</option>
            <option>Oranges - Retail</option>
      </optgroup>
      <optgroup label="Other">
      <option>Milk - Retail</option>
            <option>Oil (sunflower) - Retail</option>
            <option>Oil (vegetable) - Retail</option>
            <option>Salt - Retail</option>
            <option>Sugar (local) - Retail</option>
            <option>Sugar (white) - Retail</option>
            <option>Tea (black) - Retail</option>
      </optgroup>
    </select>
    </h4>
    
    <h4 style="width: 23%; float: left">
      Country:<select
        id="countryPicker"
        name="countryPicker"
        onchange="val2(this)"
        class="selectpicker"
        data-live-search="true"
        data-max-options="1"
      >
        <option selected>Afghanistan</option>
        <option>Algeria</option>
        <option>Angola</option>
        <option>Argentina</option>
        <option>Armenia</option>
        <option>Azerbaijan</option>
        <option>Bangladesh</option>
        <option>Bassas da India</option>
        <option>Belarus</option>
        <option>Benin</option>
        <option>Bhutan</option>
        <option>Bolivia</option>
        <option>Burkina Faso</option>
        <option>Burundi</option>
        <option>Cambodia</option>
        <option>Cameroon</option>
        <option>Cape Verde</option>
        <option>Central African Republic</option>
        <option>Chad</option>
        <option>China</option>
        <option>Colombia</option>
        <option>Congo</option>
        <option>Costa Rica</option>
        <option>Cote d'Ivoire</option>
        <option>Democratic Republic of the Congo</option>
        <option>Djibouti</option>
        <option>Dominican Republic</option>
        <option>Ecuador</option>
        <option>Egypt</option>
        <option>El Salvador</option>
        <option>Eritrea</option>
        <option>Ethiopia</option>
        <option>Gabon</option>
        <option>Gambia</option>
        <option>Georgia</option>
        <option>Ghana</option>
        <option>Guatemala</option>
        <option>Guinea</option>
        <option>Guinea-Bissau</option>
        <option>Haiti</option>
        <option>Honduras</option>
        <option>Indonesia</option>
        <option>Iran (Islamic Republic of)</option>
        <option>Iraq</option>
        <option>Japan</option>
        <option>Jordan</option>
        <option>Kazakhstan</option>
        <option>Kenya</option>
        <option>Kyrgyzstan</option>
        <option>Lao People's Democratic Republic</option>
        <option>Lebanon</option>
        <option>Lesotho</option>
        <option>Liberia</option>
        <option>Libya</option>
        <option>Madagascar</option>
        <option>Malawi</option>
        <option>Mali</option>
        <option>Mauritania</option>
        <option>Mexico</option>
        <option>Moldova Republic of</option>
        <option>Mongolia</option>
        <option>Mozambique</option>
        <option>Myanmar</option>
        <option>Namibia</option>
        <option>Nepal</option>
        <option>Nicaragua</option>
        <option>Niger</option>
        <option>Nigeria</option>
        <option>Pakistan</option>
        <option>Panama</option>
        <option>Paraguay</option>
        <option>Peru</option>
        <option>Philippines</option>
        <option>Russian Federation</option>
        <option>Rwanda</option>
        <option>Senegal</option>
        <option>Sierra Leone</option>
        <option>Somalia</option>
        <option>South Africa</option>
        <option>South Sudan</option>
        <option>Sri Lanka</option>
        <option>State of Palestine</option>
        <option>Sudan</option>
        <option>Swaziland</option>
        <option>Syrian Arab Republic</option>
        <option>Tajikistan</option>
        <option>Thailand</option>
        <option>Timor-Leste</option>
        <option>Togo</option>
        <option>Turkey</option>
        <option>Uganda</option>
        <option>Ukraine</option>
        <option>United Republic of Tanzania</option>
        <option>Venezuela</option>
        <option>Viet Nam</option>
        <option>Yemen</option>
        <option>Zambia</option>
        <option>Zimbabwe</option>
      </select>
    </h4>
    <h4 style="width: 23%; float: left">
      City:
      <select
        id="marketPicker"
        name="marketPicker"
        onchange="val3(this)"
        class="selectpicker"
        data-live-search="true"
        data-max-options="1"
      >
        <option selected>Kabul</option>
      </select>
      
    </h4>
    
    <h4 style="width: 23%; float: left">
      <div id="slider"></div>
      <div id="year-label">Selected Years: 2003 - 2021</div>
    </h4>
    
    <div id="MAIN" class="relative">
      <svg></svg>
    </div>
   
    
    <script>
      var slider = document.getElementById('slider');
      var label = document.getElementById('year-label');
      noUiSlider.create(slider, {
        start: [2003, 2021],
        range: {
          'min': 2003,
          'max': 2021
        },
        step: 1, // Set the step interval to 1
        connect: true
      });
      slider.noUiSlider.on('update', function(values, handle) {
    startYear = parseInt(values[0]);
    endYear = parseInt(values[1]);
    var selectedYears = startYear + ' - ' + endYear;
    label.innerHTML = 'Selected Years: ' + selectedYears;
    d3.select("svg").remove();
  d3.select("#MAIN").append("svg");
    setup(global_prices_csv, opts, opts2, opts3);

  });
    </script>
  </body>
</html>
